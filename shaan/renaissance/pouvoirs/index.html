<!doctype html>
<html lang="fr">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!--Google Fonts-->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Economica:ital,wght@0,400;0,700;1,400;1,700&display=swap"
    rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&amp;display=swap" rel="stylesheet">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    crossorigin="anonymous" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

  <!-- W3.org ARIA CheckboxMixed -->
  <link rel="stylesheet" type="text/css" href="../../../css/CheckboxMixed.css" />

  <!-- Search box w. icon-->
  <link rel="stylesheet" type="text/css" href="../../../css/search-input.css" />

  <link rel="stylesheet" type="text/css" href="../../shaan.css" />
  <link rel="stylesheet" type="text/css" href="../../compendium/compendium.css" />

  <title>Pouvoirs - Shaan</title>
</head>

<body>
  <div class="shaan-title blue fixed-top" id="header">
    <h1>Liste des pouvoirs - Shaan</h1>
  </div>
  <main class="container mt-5 pt-5">
    <nav aria-label="Fil d’ariane" class="ms-3">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="../../../">Aides de Jeu</a></li>
        <li class="breadcrumb-item"><a href="../../">Shaan</a></li>
        <li class="breadcrumb-item active" aria-current="page">Pouvoirs</li>
      </ol>
    </nav>

    <div class="accordion d-print-none" id="accordionFilters">
      <div class="accordion-item">
        <h2 class="accordion-header">
          <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne"
            aria-expanded="true" aria-controls="collapseOne">
            Filtres
          </button>
        </h2>
        <div id="collapseOne" class="accordion-collapse collapse show">
          <div class="accordion-body">
            <div class="intro mb-2">
              Cet outil en ligne permet de lister et de filtrer tous les pouvoirs
              de Shaan Renaissance grâce à plusieurs options.
              <!-- TODO -->
              <!--Vous pouvez trier la liste comme vous le souhaitez.-->
              <!--Vous pouvez également sélectionner certains résultats
              pour générer votre propre liste.-->
            </div>
            <form name="filtres" data-itemtype="pouvoir">
              <div class="row">
                <fieldset class="col-md-6 mb-3 checkbox-mixed">
                  <legend>Caste</legend>
                  <label class="form-check-label" for="selectAllDomains">
                    <input type="checkbox" id="selectAllDomains" checked="checked" class="form-check-input">
                    Toutes les castes
                  </label>
                  <i class="bi bi-info-circle" title="Ctrl+Clic pour sélectionner plusieurs éléments"></i>

                  <select id="domain" class="form-select"
                    multiple>
                    <option value="Technique"
                            selected="selected"
                            title="Ceux qui travaillent cuir, métal, pierre, bois, verre, tissu, ainsi que la technologie humaine">
                            Novateur
                    </option>
                    <option value="Savoir"
                            selected="selected"
                            title="L’élite intellectuelle de la population héossienne">
                            Érudit
                    </option>
                    <option value="Social"
                            selected="selected"
                            title="Ceux qui tissent des liens sociaux, que ce soit à but lucratif ou par intérêt politique">
                            Négociant
                    </option>
                    <option value="Arts"
                            selected="selected"
                            title="Ceux dont le but est de divertir la population">
                            Artiste
                    </option>
                    <option value="Shaan"
                            selected="selected"
                            title="Les porteurs de lumière">
                            Shaaniste
                    </option>
                    <option value="Magie"
                            selected="selected"
                            title="Ils utilisent les Trihns qui voyagent sur Héos comme combustible pour leurs pouvoirs">
                            Magicien
                    </option>
                    <option value="Rituels"
                            selected="selected"
                            title="Ils vouent un culte aux Éléments">
                            Élémentaliste
                    </option>
                    <option value="Survie"
                            selected="selected"
                            title="Ceux chargés de transporter quelque chose ou quelqu’un d’un point à un autre">
                            Voyageur
                    </option>
                    <option value="Combat"
                            selected="selected"
                            title="Ceux qui ne vivent que par la guerre et le respect de l’ordre">
                            Combattant
                    </option>
                    <option value="Nécrose"
                            selected="selected"
                            title="Ceux qui imposent leur autorité par La peur">
                            Ombres
                    </option>
                    <option value="Métier de prestige"
                            selected="selected"
                            title="??">
                            Métier de prestiges
                    </option>
                  </select>
                </fieldset>

                <fieldset class="col-md-6 mb-3">
                  <legend>Rang</legend>
                  <label for="nivMin" class="form-label">Rang Minimum</label>
                  <select name="nivMin" id="nivMin" class="form-select">
                    <option value="0" selected="selected">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                  </select>
                  <label for="nivMax" class="form-label">Rang Maximum</label>
                  <select name="nivMax" id="nivMax" class="form-select">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5" selected="selected">5</option>
                  </select>
                </fieldset>

                <fieldset class="col-md-6 mb-3 checkbox-mixed">
                  <legend>Type</legend>
                  <label class="form-check-label" for="selectAllCats">
                    <input type="checkbox" id="selectAllCats" checked="checked" class="form-check-input">
                    Tous les types
                  </label>
                  <i class="bi bi-info-circle" title="Ctrl+Clic pour sélectionner plusieurs éléments"></i>

                  <select id="categorie" class="form-select"
                    multiple>
                    <option value="Adaptation culturelle" selected="selected">Adaptation culturelle</option>
                    <option value="Altération" selected="selected">Altération</option>
                    <option value="Amélioration" selected="selected">Amélioration</option>
                    <option value="Attaque" selected="selected">Attaque</option>
                    <option value="Communication" selected="selected">Communication</option>
                    <option value="Invocation" selected="selected">Invocation</option>
                    <option value="Inception" selected="selected">Inception</option>
                    <option value="Malchance" selected="selected">Malchance</option>
                    <option value="Perception" selected="selected">Perception</option>
                  </select>
                </fieldset>

                <fieldset class="col-md-6 mb-3 checkbox-mixed">
                  <legend>Source</legend>
                  <label class="form-check-label" for="selectAllSrc">
                    <input type="checkbox" id="selectAllSrc" checked="checked" class="form-check-input">
                    Toutes les sources
                  </label>
                  <i class="bi bi-info-circle" title="Ctrl+Clic pour sélectionner plusieurs éléments"></i>

                  <select id="source" class="form-select" multiple>
                    <option value="Manuel d’itinérance" selected="selected">Manuel d’itinérance</option>
                    <option value="L’erreur est humaine" selected="selected">L’erreur est humaine</option>
                    <option value="Le feu intérieur" selected="selected">Le feu intérieur</option>
                    <option value="L’arbre qui cache la forêt" selected="selected">L’arbre qui cache la forêt</option>
                    <option value="L’ombre blanche" selected="selected">L’ombre blanche</option>
                    <option value="Carnets de Voyages tome 1" selected="selected">Carnets de Voyages tome 1</option>
                  </select>
                </fieldset>

                <!--fieldset class="col checkbox-mixed">
                  <legend>Affichage</legend>
                  <label for="allC">
                    <input type="checkbox" id="allC" class="form-check-input check-all"
                      aria-controls="cond1 cond2 cond3 cond4">
                    Toutes les propriétés
                  </label>
                  <ul class="checkboxes">
                    <li>
                      <label class="form-check-label">
                        <input type="checkbox" id="cond2" checked="" class="form-check-input">
                        Tomato
                      </label>
                    </li>
                    <li>
                      <label>
                        <input type="checkbox" id="cond3" class="form-check-input">
                        Mustard
                      </label>
                    </li>
                    <li>
                      <label>
                        <input type="checkbox" id="cond4" class="form-check-input">
                        Sprouts
                      </label>
                    </li>
                  </ul>
                </fieldset-->
              </div>

              <div class="row mt-2">
                <input type="submit" name="filtrer"
                  class="btn btn-primary btn-block"
                  value="Filtrer">
                <div class="col-sm-4 col-md-2">
                  <!--a onclick="reset()" class="btn-link btn">
                    <i class="bi bi-arrow-repeat" title="Reset"></i>
                  </a-->
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h2 class="accordion-header">
          <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2"
            aria-expanded="true" aria-controls="collapse2">
            Recherche
          </button>
        </h2>
        <div id="collapse2" class="accordion-collapse collapse show">
          <div class="accordion-body">
            <div class="col">
              <div class="search-container">
                <input id="search" type="text" class="form-control search-input"
                aria-describedby="search-help"
                  placeholder="Rechercher…">
                <i class="bi bi-search search-icon"></i>
              </div>
              <!--a onclick="clearFilter()" class="btn-link btn">
                <i class="bi bi-x"></i>
              </a-->
              <div id="search-help" class="form-text">Tapez au moins 3 caractères pour chercher un pouvoir dans les résultats ci-dessous.</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <a href="#pied" title="Bas de page"
       id="up" class="btn btn-link d-print-none">
      <i class="bi bi-arrow-down-circle" aria-hidden="true"></i>
    </a>

    <div class="text-center" id="loader">
      <div class="spinner-border" role="status">
        <span class="visually-hidden">Chargement…</span>
      </div>
    </div>

    <form name="selecteur" class="d-print-none" id="table-elements">
      <fieldset class="checkbox-mixed">
        <div class="table-responsive" style="max-height:30em">
          <table class="table table-striped caption-top sortable mb-0">
            <caption>
              <strong id="total">0</strong>
              <span id="text-found">pouvoirs trouvés.</span>
            </caption>
            <thead class="sticky-top">
              <tr id="table-head">
                <th scope="col"><span class="visually-hidden">Sélection</span></th>
                <th scope="col">Nom</th>
                <th scope="col">Domaine</th>
                <th scope="col">Rang</th>
                <th scope="col">Type</th>
                <th scope="col">Source</th>
              </tr>
            </thead>
            <tbody id="liste-elements" class="checkboxes"> </tbody>
          </table>
        </div>
        <div class="col">
          <label for="selectAll">
            <input type="checkbox" class="form-check-input check-all"
              id="selectAll" onclick="selectAllItems()">
            Tout sélectionner
          </label>
        </div>
      </fieldset>
    </form>
    <pre id="code"></pre>

    <div id="card-elements" class="row d-none mt-1"> </div>

    <div id="foot_actions" class="mt-2 d-print-none">
      <div class="row">
        <!--fieldset class="col">
          <legend><i class="bi bi-printer" aria-hidden="true"></i> Format</legend>
          <input type="radio" class="form-check-input" name="type" value="C" id="type-C" checked="checked">
          <label class="form-check-label" for="type-C">Cartes</label>
        </fieldset-->
      </div>
      <div class="row" id="pied">
        <div class="col-sm-12">
          <a href="#up" title="Haut de page" class="btn btn-link">
            <i class="bi bi-arrow-up-circle" aria-hidden="true"></i>
          </a>
          <!--
          <a class="btn btn-primary btn-block" onclick="generate(this, event)">Générer</a>
          <i class="bi bi-database"></i> <strong id="total-bas">XX</strong> acquis
        -->
          <i class="bi bi-file-pdf" title="Guide to generate a PDF from your browser:
              1) Select PRINT
              2) Change the destination to select PDF FORMAT instead of your current printer
              3) Ajust margin by selecting NO MARGIN or MINIMUM MARGIN
              4) You can also decide with the OPTIONS to print or not the background image"></i>
          <!--input type="submit" class="btn btn-secondary" name="save" value="Exporter"-->
        </div>
      </div>
    </div>

    <ul class="nav nav-pills justify-content-end d-print-none">
      <li class="nav-item">
        <a class="nav-link active" aria-current="page"
           href="#table-elements" id="table-tab"
           onclick="table_switch(this, event)">
          <i class="bi bi-table"></i> Tableau
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#card-elements" id="card-tab"
           onclick="generate(this, event, 'pouvoir')">
          <i class="bi bi-postcard"></i> Cartes
        </a>
      </li>
    </ul>

  </main>
  <footer class="container-fluid text-bg-dark text-center mt-5 pt-2 pb-1">
    <p>Pour en savoir plus sur le jeu de rôle <strong>Shaan</strong>, rendez-vous sur<br>
      <a
    href="https://www.shaan-rpg.com">www.shaan-rpg.com</a>
  et <a href="https://www.shaan-world.com">www.shaan-world.com</a>
    </p>
  </footer>

  <div class="modal" tabindex="-1" id="item-modal">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Aperçu</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" id="items-list">
          <p>Modal body text goes here.</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js "></script>

  <!-- W3.org ARIA CheckboxMixed -->
  <script src="../../../js/indeterminate_checkboxes.js"></script>

  <!-- mustache.js - Logic-less mustache templates with JavaScript -->
  <script src="https://unpkg.com/mustache@latest"></script>

  <!--
  GsheetParser
  See doc at https://github.com/fureweb-com/public-google-sheets-parser#readme
  -->
  <script src="https://cdn.jsdelivr.net/npm/public-google-sheets-parser@latest"></script>

  <script>

    const options = { sheetName: 'Pouvoirs', useFormat: false }

    const precode = document.getElementById("code");

    let liste_pouvoirs = [];

    function display_items(data, target="liste-elements", modele="pouvoir_row") {

      liste_pouvoirs = data;
      bloc_total.textContent = data.length;
      const liste_elements = document.getElementById(target);
      fetch("../../templates/"+modele+".mustache")
      .then((response) => response.text())
      .then((template) => {
        let renderedHTML = '';
        liste_elements.innerHTML = "";
        data.forEach(row => {
          row["dom_type"] = getPouvoirType(row.Domaine);
          renderedHTML += Mustache.render(template, row);
          loader.classList.add("d-none");
          //precode.textContent += JSON.stringify(row, null, 2) + '\n';
        });
        liste_elements.innerHTML = renderedHTML;
        search_filter();
      });
    }

  </script>
  <script src="../../compendium/compendium.js"></script>

  <!-- https://github.com/tofsjonas/sortable -->
  <link href="https://cdn.jsdelivr.net/gh/tofsjonas/sortable@latest/dist/sortable.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/gh/tofsjonas/sortable@latest/dist/sortable.min.js"></script>
  <!--script src="https://cdn.jsdelivr.net/gh/tofsjonas/sortable@latest/dist/sortable.a11y.min.js"></script-->


  <!-- Shaan template JS -->
  <script src="../../shaan.js"></script>
</body>

</html>